<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Restaurant</title>
    <link rel="shortcut icon" href="/static/img/favicon.ico"/>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- <link rel="manifest" href="site.webmanifest"> -->
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="/static/css/message.css">
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/static/css/magnific-popup.css">
    <link rel="stylesheet" href="/static/css/font-awesome.min.css">
    <link rel="stylesheet" href="/static/css/themify-icons.css">
    <link rel="stylesheet" href="/static/css/nice-select.css">
    <link rel="stylesheet" href="/static/css/flaticon.css">
    <link rel="stylesheet" href="/static/css/gijgo.css">
    <link rel="stylesheet" href="/static/css/animate.min.css">
    <link rel="stylesheet" href="/static/css/slick.css">
    <link rel="stylesheet" href="/static/css/slicknav.css">
    <link rel="stylesheet" href="/static/css/meals.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/style.css">
</head>
<body>

<header>
    <div class="header-area ">
        <div id="sticky-header" class="main-header-area progress-sticky">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-xl-3 col-lg-2">
                        <div class="logo">
                            <a href="/">
                                <img class="main-header-logo" src="/static/img/logo_new.png" alt="">
                            </a>
                        </div>
                    </div>
                    <div class="col-xl-6 col-lg-7">
                        <div class="main-menu   d-none d-lg-block">
                            <nav>
                                <ul id="navigation">
                                    <li><a href="/" th:text="#{nav.home}">Home</a></li>
                                    <li><a href="/info/about" th:text="#{nav.about}">About</a></li>
                                    <li><a href="/info/recipes" th:text="#{nav.recipes}">Recipes</a></li>
                                    <li hidden name="sign"><a href="/sign/up" th:text="#{nav.sign}">Sign</a></li>
                                    <li hidden name="user"><a href="#">user<i class="ti-angle-down"></i></a>
                                        <ul class="submenu">
                                            <li hidden name="admin"><a href="/admin/products" th:text="#{nav.admin.page}">Admin Page</a></li>
                                            <li><a href="/user/meals" th:text="#{nav.daily.eating}">Daily Eating</a></li>
                                            <li><a href="/user/progress" th:text="#{nav.progress}">Progress</a></li>
                                            <li><a href="/client/edit" th:text="#{nav.edit}">Edit</a></li>
                                            <li><a href="/sign/out" th:text="#{nav.logout}">Logout</a></li>
                                        </ul>
                                    </li>
                                    <li><a href="/info/contact" th:text="#{nav.contact}">Contact</a></li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 d-none d-lg-block">
                        <div class="search_icon" th:if="${#locale.toString() == 'ru_RU'}">
                            <a th:href="@{${#httpServletRequest.requestURI}(lang='en_US')}">
                                <i>EN</i>
                            </a>
                        </div>
                        <div class="search_icon" th:if="${#locale.toString() == 'en_US'}">
                            <a th:href="@{${#httpServletRequest.requestURI}(lang='ru_RU')}">
                                <i>RU</i>
                            </a>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="mobile_menu d-block d-lg-none"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- slider_area_start -->
<div class="slider_area">
    <div class="single_slider  d-flex slider_bg_4">
        <div class="container main-container">
            <form action="/user/meals" method="POST">
                <div class="row">
                    <div class="col-xl-4 col-lg-4 col-md-6">
                        <div class="ml-container">
                            <div class="ml-main">
                                <h3 th:text="#{ml.h2.food}"></h3>
                                <select class="select-food" name="food">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-4 col-md-6">
                        <div class="ml-container">
                            <div class="ml-main">
                                <h3 th:text="#{ml.h2.weight}"></h3>
                                <input type="number" name="weight" required=' ' min="1" max="2000" placeholder="grams" onfocus="this.placeholder = ''"
                                       onblur="this.placeholder = 'grams'" class="dropdown-select wide">
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-4 col-lg-4 col-md-6">
                        <div class="ml-container">
                            <div class="ml-main">
                                <h3 th:text="#{ml.h2.eat.period}"></h3>
                                <select class="select-time" name="eat_period">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-4 col-md-6">
                        <div class="ml-container">
                            <div class="ml-main">
                                <button type="submit" class="genric-btn success-border circle btn-main" th:text="#{ml.btn.add}"></button>
                            </div>
                        </div>
                    </div>
                </div>
            </form>
            <table class="table" style="background-color: whitesmoke">
                <thead>
                <tr class="d-flex">
                    <th class="col-4" th:text="#{ml.h2.eat.period}"></th>
                    <th class="col-3" th:text="#{ml.h2.food}"></th>
                    <th class="col-3" th:text="#{ml.h2.weight}"></th>
                    <th class="col-2">
                        <button class="genric-btn success-border circle btn-del" onclick="Delete()" th:text="#{ml.btn.delete}"></button>
                    </th>
                </tr>
                </thead>
                <tbody class="tbody-meals">
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- slider_area_end -->

<footer class="container-fluid text-right footer">
    <p id="child" th:text="#{locale.footer}"></p>
</footer>
<!-- Modal -->
<div class="modal fade" id="addModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel" th:text="#{ml.add.new.food}"></h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <form class="fr-add" action="/user/product" method="POST">

                <div class="modal-body">
                    <div class="form-group">
                        <label for="name" class="col-form-label" th:text="#{ml.name}+':'"></label>
                        <input type="text" class="form-control" id="name" name="name">
                        <p class="invalid-p"></p>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="calories" class="col-form-label" th:text="#{ml.calories}+':'"></label>
                                <input type="text" class="form-control" id="calories" name="calories">
                                <p class="invalid-p"></p>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="protein" class="col-form-label" th:text="#{ml.protein}+':'"></label>
                                <input type="text" class="form-control" id="protein" name="protein">
                                <p class="invalid-p"></p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col">
                            <div class="form-group">
                                <label for="fats" class="col-form-label" th:text="#{ml.fats}+':'"></label>
                                <input type="text" class="form-control" id="fats" name="fats">
                                <p class="invalid-p"></p>
                            </div>
                        </div>
                        <div class="col">
                            <div class="form-group">
                                <label for="carbohydrates" class="col-form-label" th:text="#{ml.carbohydrates}+':'"></label>
                                <input type="text" class="form-control" id="carbohydrates" name="carbohydrates">
                                <p class="invalid-p"></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal" th:text="#{ml.btn.close}"></button>
                    <button type="submit" class="btn btn-warning add-sbm" th:text="#{ml.btn.add}">Add</button>
                </div>
            </form>
        </div>
    </div>
</div>
<p hidden id="error_name" th:text="#{enter.error.name}"></p>
<p hidden id="error_cal" th:text="#{enter.error.cal}"></p>
<p hidden id="error_nutr" th:text="#{enter.error.nutr}"></p>
<p hidden id="error_num" th:text="#{enter.error.num}"></p>
<p hidden id="error_empty" th:text="#{enter.empty}"></p>
<p hidden id="btn_add_new_food" th:text="#{ml.add.new.food}"></p>

<!-- JS here -->
<!--<script src="/static/js/vendor/modernizr-3.5.0.min.js"></script>-->
<!--<script src="/static/js/vendor/jquery-1.12.4.min.js"></script>-->
<!--<script src="/static/js/popper.min.js"></script>-->
<!--<script src="/static/js/bootstrap.min.js"></script>-->
<!--<script src="/static/js/owl.carousel.min.js"></script>-->
<!--<script src="/static/js/isotope.pkgd.min.js"></script>-->
<!--<script src="/static/js/ajax-form.js"></script>-->
<!--<script src="/static/js/waypoints.min.js"></script>-->
<!--<script src="/static/js/jquery.counterup.min.js"></script>-->
<!--<script src="/static/js/imagesloaded.pkgd.min.js"></script>-->
<!--<script src="/static/js/scrollIt.js"></script>-->
<!--<script src="/static/js/jquery.scrollUp.min.js"></script>-->
<!--<script src="/static/js/wow.min.js"></script>-->
<!--<script src="/static/js/nice-select.min.js"></script>-->
<!--<script src="/static/js/jquery.slicknav.min.js"></script>-->
<!--<script src="/static/js/jquery.magnific-popup.min.js"></script>-->
<!--<script src="/static/js/plugins.js"></script>-->
<!--<script src="/static/js/gijgo.min.js"></script>-->

<!--&lt;!&ndash;contact js&ndash;&gt;-->
<!--<script src="/static/js/jquery.ajaxchimp.min.js"></script>-->
<!--<script src="/static/js/jquery.form.js"></script>-->
<!--<script src="/static/js/jquery.validate.min.js"></script>-->
<!--<script src="/static/js/mail-script.js"></script>-->

<!--<script src="/static/js/main.js"></script>-->

<!--<script src="https://code.jquery.com/jquery-3.4.0.min.js"-->
<!--        integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>-->
<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"-->
<!--        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"-->
<!--        crossorigin="anonymous"></script>-->
<!--<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"-->
<!--        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"-->
<!--        crossorigin="anonymous"></script>-->

<!--<script src="/static/js/meals.js"></script>-->
<!--<script src="/static/js/validator.js"></script>-->
<!--<script src="/static/js/message.js"></script>-->
<script>
    function Delete(){
        const data = {'toDelete': []};
        $(".cl_td:checkbox:checked").each(function() {
            data['toDelete'].push($(this).val());
        });
        $.post("/user/meals/delete", data, function(data, status) {
            window.location.reload();
        });
    }
</script>

</body>

</html>